[gd_scene load_steps=11 format=4 uid="uid://bj43iu0x43w30"]

[ext_resource type="TileSet" uid="uid://7bqfijx61idf" path="res://tile_sets/tiles/city_tiles.tres" id="1_qra2a"]
[ext_resource type="PackedScene" uid="uid://d0kdsmyy1oltu" path="res://scenes/common/scene_loader.tscn" id="2_nxeu5"]
[ext_resource type="PackedScene" uid="uid://7wv6rahuxnn1" path="res://scenes/landscape/platform/timeless_one_way_platform.tscn" id="3_lpfik"]
[ext_resource type="PackedScene" uid="uid://dagfrs5bi1ci6" path="res://scenes/landscape/spikes.tscn" id="4_idulb"]
[ext_resource type="PackedScene" uid="uid://chwq1hm1c6ake" path="res://scenes/landscape/platform/one_way_platform.tscn" id="4_iqpnk"]
[ext_resource type="PackedScene" uid="uid://5bobworwik70" path="res://scenes/npc/player.tscn" id="7_v0lfk"]
[ext_resource type="PackedScene" uid="uid://j2k81ogo4gnf" path="res://scenes/common/rewind_player.tscn" id="8_vofwo"]
[ext_resource type="PackedScene" uid="uid://kg7vy36drcwi" path="res://scenes/common/music_player.tscn" id="9_5sicl"]
[ext_resource type="AudioStream" uid="uid://ds8fibvsj1dyn" path="res://music/level_bg/hub/hub_bg_forward.mp3" id="10_7jha4"]
[ext_resource type="AudioStream" uid="uid://debbc3e362j4q" path="res://music/level_bg/hub/hub_bg_reverse.mp3" id="11_gg0ig"]

[node name="World0" type="Node2D"]

[node name="second_world" type="Node2D" parent="."]

[node name="tiles" type="Node2D" parent="second_world"]

[node name="TileMapLayer" type="TileMapLayer" parent="second_world/tiles"]
position = Vector2(213, -499)
tile_map_data = PackedByteArray("AAD9/yAAAQABACcAAADp/xcAAAAmACYAAADf/xQAAwB3AAQAAAD+/w8AAQABACcAAAAtACAAAQABACcAAAA0AAYAAQABACcAAAAuAA8AAQABACcAAAA0AAoAAQABACcAAADf////AwB3AAQAAADf/+r/AwB3AAQAAAAuAP//AQABACcAAABGAAcAAwB3AAQAAAA=")
tile_set = ExtResource("1_qra2a")

[node name="portals" type="Node2D" parent="second_world"]

[node name="SceneLoader" parent="second_world/portals" instance=ExtResource("2_nxeu5")]
position = Vector2(-148, -14)
Path = "res://scenes/level/game/world2/world_2_4.tscn"
SpawnPositionIndex = 1

[node name="one_way_platforms" type="Node2D" parent="second_world"]

[node name="timeless_one_way_platform" parent="second_world/one_way_platforms" instance=ExtResource("3_lpfik")]
position = Vector2(615, -328)
rotation = -4.71238
scale = Vector2(0.240001, 2.2)
DisableOneWayCollission = true
PlatformMoveMode = true
PlatformMoveVector = Vector2(0, -5)
StopOnRaycast = true

[node name="one_way_platform" parent="second_world/one_way_platforms" instance=ExtResource("4_iqpnk")]
position = Vector2(1053, -446)
DisableOneWayCollission = true
PlatformMoveMode = true
PlatformMoveVector = Vector2(-20, 0)
StopOnRaycast = true

[node name="keys" type="Node2D" parent="second_world"]

[node name="enemies" type="Node2D" parent="second_world"]

[node name="locked_doors" type="Node2D" parent="second_world"]

[node name="spikes" type="Node2D" parent="second_world"]

[node name="Spike" parent="second_world/spikes" instance=ExtResource("4_idulb")]
position = Vector2(-201, -349)
points = PackedVector2Array(0, -0.0668298, 51.6594, -0.0668298)

[node name="Player" parent="." instance=ExtResource("7_v0lfk")]
position = Vector2(2, -58)

[node name="spawn" type="Node2D" parent="Player"]

[node name="start" type="Node2D" parent="Player/spawn"]
position = Vector2(-22, 3)

[node name="end" type="Node2D" parent="Player/spawn"]
position = Vector2(1529, -34)

[node name="RewindPlayer" parent="." instance=ExtResource("8_vofwo")]

[node name="MusicPlayer" parent="." node_paths=PackedStringArray("ForwardPlayer", "BackwardPlayer") instance=ExtResource("9_5sicl")]
ForwardPlayer = NodePath("forward")
BackwardPlayer = NodePath("backward")

[node name="forward" type="AudioStreamPlayer" parent="MusicPlayer"]
stream = ExtResource("10_7jha4")

[node name="backward" type="AudioStreamPlayer" parent="MusicPlayer"]
stream = ExtResource("11_gg0ig")
